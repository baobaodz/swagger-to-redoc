<!DOCTYPE html>
<html>
  <head>
    <title>Redoc</title>
    <!-- needed for adaptive design -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700"
      rel="stylesheet"
    />

    <!--
    Redoc doesn't change outer page styles
    -->
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>

  </head>
  <body>

    <!--
    Redoc element with link to your OpenAPI definition
    -->
    <redoc spec-url="https://petstore.swagger.io/v2/swagger.json"></redoc>
    <script>
      console.log('hahahhahhaha')
      function goTo404(){
        // window.location.href = "https://document.baobaodz.top/404.html";
        console.log('ðŸš€ -> goTo404 -> window.location.href', window.location.href);
      }
      setTimeout(()=>{
        if(location.search){
          var storageId = location.search.substring(location.search.lastIndexOf('?q=') + 3);
          var redocEles = document.getElementsByTagName("redoc");
          if(storageId && redocEles.length){
            var redocEle = redocEles[0];
            console.log('ðŸš€ -> redocEle', redocEle);
            const speclUrl = localStorage.getItem(storageId);
            if(speclUrl){
              redocEle.setAttribute("spec-url", localStorage.getItem(storageId));
            } else {
              goTo404();
            }
          } else {
            goTo404();
          }
        } else {
          goTo404();
        }
      }, 0);
    </script>
    <!--
    Link to Redoc JavaScript on CDN for rendering standalone element
    -->

    <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>
  </body>
</html>