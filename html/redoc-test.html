<!DOCTYPE html>
<html>
  <head>
    <title>Redoc</title>
    <!-- needed for adaptive design -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700"
      rel="stylesheet"
    />

    <!--
    Redoc doesn't change outer page styles
    -->
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>

  </head>
  <body>
    <!--
    Redoc element with link to your OpenAPI definition
    -->
    <redoc spec-url="https://petstore.swagger.io/v2/swagger.json"></redoc>
    <script>
      console.log('hahahhahhaha')
      function goTo404(){
        window.location.href = "https://document.baobaodz.top/404.html";
      }
      var params = location.search;
        if(params){
          var date = params.substring(params.lastIndexOf('?d=') + 3,params.lastIndexOf('&') );
          var fileName = params.substring(params.lastIndexOf('&q=') + 3);
          if(date && fileName){
            var redocEle = document.getElementsByTagName('redoc')[0];
            redocEle.setAttribute("spec-url", `https://document.baobaodz.top/plugin/${date}/${fileName}.json`);
            console.log('ðŸš€ -> redocEle', redocEle);
          } else {
            goTo404();
          }
        } else {
          goTo404();
        }
    </script>
    <!--
    Link to Redoc JavaScript on CDN for rendering standalone element
    -->
    <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>
  </body>
</html>